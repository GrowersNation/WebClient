<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />

		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta name="description" content="Growers' Nation - planting the seeds locally for a more sustainable future" />
		<meta name="author" content="Jeremy Brooks" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />

		<title>Growers Nation</title>
		
		<!-- growers nation styles start here-->
		<link rel="stylesheet" href="assets/style/responsivelayout.css" media="screen"/>
		<link rel="stylesheet" href="assets/style/location.css" media="screen"/>
		
		<script>
			/* Instead of using the inline dojo-config attribute
			 * create this variable so we can configure dojo here.
			 * This seems a little clearer, easier to read as a config.
			 */
			var dojoConfig = {
				baseUrl : "./",
				async : true,
				isDebug : true,
				parseOnLoad : false, //false to allow for us to call this independantly in js later on
				//gfxRenderer: "svg, canvas, silverlight",//svg is preferred chart renderer

				//here are the packages dojo will be aware of and related js files
				//NOTE: do not import any other scripts through a script tag except for dojo.js,
				//if you do, you'll experience random errors and a double download of each js file required.
				packages : [
					//dojo specific packages
					{ name: "dojo", location: "http://ajax.googleapis.com/ajax/libs/dojo/1.9.0/dojo", main : "dojo.js.uncompressed.js"},
					{ name : "dijit", location: "http://ajax.googleapis.com/ajax/libs/dojo/1.9.0/dijit" },
					{ name: "dojox", location: "http://ajax.googleapis.com/ajax/libs/dojo/1.9.0/dojox" },
					{ name: "gn", location : "growersnation" },
					{ name: "util", location : "utils" }
				]
			};
		</script>

	</head>

	<body>
		
		<!-- dojo inport -->
		<script src="//ajax.googleapis.com/ajax/libs/dojo/1.9.0/dojo/dojo.js.uncompressed.js"></script>
		
		<script>
		
			/*function validateLoc(args){
				alert(args);
				return false;
			}*/
		
			/**
			 * Required packages for any daclarative markup that uses a dojo widget type such as BorderContainer,
			 * any third party libs, the dojo parser, and any custom growers nation packages such as geolocationModule.
			 */
			require(["dojo/parser",
					 "gn/responsive/Context",
					 "dojox/mobile/deviceTheme",
					 "gn/responsive/location/widget/MyLocation",
					 "dojox/mobile",
					 "dojox/mobile/compat",
					 "dojo/domReady!"],

				/**
				 * Parses the document using the dojo parser which will set up all dojo widgets.
				 * Instantiates any other modules or widgets needed.
				 * 
				 * @param dojo parser
				 */
				function(parser, Context, deviceTheme, MyLocation) {
					parser.parse();
					
					//is JSON supported natively?
					if (typeof JSON !== "object"){
						require(["util/json2"]);
					}
					
					new Context();
					var myLocation = new MyLocation({});
					myLocation.placeAt("myLocationNode");
					myLocation.startup();
				}
			);
		</script>
		
		<div>
			<header>
				<h1>Growers' Nation - planting the seeds locally for a more sustainable future</h1>
				<a class="login" href="http://ec2-46-137-56-2.eu-west-1.compute.amazonaws.com/openid">login</a>
			</header>

			<div>
				<div id="locationView" data-dojo-type="dojox/mobile/View" data-djo-props="selected:true">
					<h1 data-dojo-type="dojox/mobile/Heading">Your growing location</h1>
					<div id="myLocationNode"></div>
				</div>
				<div id="produceView" data-dojo-type="dojox/mobile/View">
					
				</div>
				<div id="gardenView" data-dojo-type="dojox/mobile/View"></div>
				<div id="soilView" data-dojo-type="dojox/mobile/View"></div>
				<div id="climatologyView" data-dojo-type="dojox/mobile/View"></div>
				<div id="socialView" data-dojo-type="dojox/mobile/View"></div>
			</div>
			
			<footer>
				<p id="footer">
					
				</p>
			</footer>
		</div>
	</body>
</html>
